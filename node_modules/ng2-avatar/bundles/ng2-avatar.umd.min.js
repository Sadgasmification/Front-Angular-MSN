"use strict";

var _typeof = typeof Symbol === "function" && typeof Symbol.iterator === "symbol" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; };

!function (t, e) {
  "object" == (typeof exports === "undefined" ? "undefined" : _typeof(exports)) && "undefined" != typeof module ? e(exports, require("@angular/common"), require("@angular/core")) : "function" == typeof define && define.amd ? define(["exports", "@angular/common", "@angular/core"], e) : e(t.ng2Avatar = {}, t.ng.common, t.ng.core);
}(undefined, function (t, e, a) {
  "use strict";
  var r = function () {
    function t() {}return t.AddUnsigned = function (t, e) {
      var a, r, n, d, o;return n = 2147483648 & t, d = 2147483648 & e, a = 1073741824 & t, r = 1073741824 & e, o = (1073741823 & t) + (1073741823 & e), a & r ? 2147483648 ^ o ^ n ^ d : a | r ? 1073741824 & o ? 3221225472 ^ o ^ n ^ d : 1073741824 ^ o ^ n ^ d : o ^ n ^ d;
    }, t.FF = function (e, a, r, n, d, o, i) {
      return e = t.AddUnsigned(e, t.AddUnsigned(t.AddUnsigned(t.F(a, r, n), d), i)), t.AddUnsigned(t.RotateLeft(e, o), a);
    }, t.GG = function (e, a, r, n, d, o, i) {
      return e = t.AddUnsigned(e, t.AddUnsigned(t.AddUnsigned(t.G(a, r, n), d), i)), t.AddUnsigned(t.RotateLeft(e, o), a);
    }, t.HH = function (e, a, r, n, d, o, i) {
      return e = t.AddUnsigned(e, t.AddUnsigned(t.AddUnsigned(t.H(a, r, n), d), i)), t.AddUnsigned(t.RotateLeft(e, o), a);
    }, t.II = function (e, a, r, n, d, o, i) {
      return e = t.AddUnsigned(e, t.AddUnsigned(t.AddUnsigned(t.I(a, r, n), d), i)), t.AddUnsigned(t.RotateLeft(e, o), a);
    }, t.ConvertToWordArray = function (t) {
      for (var e, a = t.length, r = a + 8, n = 16 * ((r - r % 64) / 64 + 1), d = Array(n - 1), o = 0, i = 0; i < a;) {
        o = i % 4 * 8, d[e = (i - i % 4) / 4] = d[e] | t.charCodeAt(i) << o, i++;
      }return e = (i - i % 4) / 4, o = i % 4 * 8, d[e] = d[e] | 128 << o, d[n - 2] = a << 3, d[n - 1] = a >>> 29, d;
    }, t.WordToHex = function (t) {
      var e,
          a = "",
          r = "";for (e = 0; e <= 3; e++) {
        a += (r = "0" + (t >>> 8 * e & 255).toString(16)).substr(r.length - 2, 2);
      }return a;
    }, t.Utf8Encode = function (t) {
      var e,
          a = "";t = t.replace(/\r\n/g, "\n");for (var r = 0; r < t.length; r++) {
        (e = t.charCodeAt(r)) < 128 ? a += String.fromCharCode(e) : e > 127 && e < 2048 ? (a += String.fromCharCode(e >> 6 | 192), a += String.fromCharCode(63 & e | 128)) : (a += String.fromCharCode(e >> 12 | 224), a += String.fromCharCode(e >> 6 & 63 | 128), a += String.fromCharCode(63 & e | 128));
      }return a;
    }, t.init = function (e) {
      for ("string" != typeof e && (e = JSON.stringify(e)), t.string = t.Utf8Encode(e), t.x = t.ConvertToWordArray(t.string), t.a = 1732584193, t.b = 4023233417, t.c = 2562383102, t.d = 271733878, t.k = 0; t.k < t.x.length; t.k += 16) {
        t.AA = t.a, t.BB = t.b, t.CC = t.c, t.DD = t.d, t.a = t.FF(t.a, t.b, t.c, t.d, t.x[t.k], t.S11, 3614090360), t.d = t.FF(t.d, t.a, t.b, t.c, t.x[t.k + 1], t.S12, 3905402710), t.c = t.FF(t.c, t.d, t.a, t.b, t.x[t.k + 2], t.S13, 606105819), t.b = t.FF(t.b, t.c, t.d, t.a, t.x[t.k + 3], t.S14, 3250441966), t.a = t.FF(t.a, t.b, t.c, t.d, t.x[t.k + 4], t.S11, 4118548399), t.d = t.FF(t.d, t.a, t.b, t.c, t.x[t.k + 5], t.S12, 1200080426), t.c = t.FF(t.c, t.d, t.a, t.b, t.x[t.k + 6], t.S13, 2821735955), t.b = t.FF(t.b, t.c, t.d, t.a, t.x[t.k + 7], t.S14, 4249261313), t.a = t.FF(t.a, t.b, t.c, t.d, t.x[t.k + 8], t.S11, 1770035416), t.d = t.FF(t.d, t.a, t.b, t.c, t.x[t.k + 9], t.S12, 2336552879), t.c = t.FF(t.c, t.d, t.a, t.b, t.x[t.k + 10], t.S13, 4294925233), t.b = t.FF(t.b, t.c, t.d, t.a, t.x[t.k + 11], t.S14, 2304563134), t.a = t.FF(t.a, t.b, t.c, t.d, t.x[t.k + 12], t.S11, 1804603682), t.d = t.FF(t.d, t.a, t.b, t.c, t.x[t.k + 13], t.S12, 4254626195), t.c = t.FF(t.c, t.d, t.a, t.b, t.x[t.k + 14], t.S13, 2792965006), t.b = t.FF(t.b, t.c, t.d, t.a, t.x[t.k + 15], t.S14, 1236535329), t.a = t.GG(t.a, t.b, t.c, t.d, t.x[t.k + 1], t.S21, 4129170786), t.d = t.GG(t.d, t.a, t.b, t.c, t.x[t.k + 6], t.S22, 3225465664), t.c = t.GG(t.c, t.d, t.a, t.b, t.x[t.k + 11], t.S23, 643717713), t.b = t.GG(t.b, t.c, t.d, t.a, t.x[t.k], t.S24, 3921069994), t.a = t.GG(t.a, t.b, t.c, t.d, t.x[t.k + 5], t.S21, 3593408605), t.d = t.GG(t.d, t.a, t.b, t.c, t.x[t.k + 10], t.S22, 38016083), t.c = t.GG(t.c, t.d, t.a, t.b, t.x[t.k + 15], t.S23, 3634488961), t.b = t.GG(t.b, t.c, t.d, t.a, t.x[t.k + 4], t.S24, 3889429448), t.a = t.GG(t.a, t.b, t.c, t.d, t.x[t.k + 9], t.S21, 568446438), t.d = t.GG(t.d, t.a, t.b, t.c, t.x[t.k + 14], t.S22, 3275163606), t.c = t.GG(t.c, t.d, t.a, t.b, t.x[t.k + 3], t.S23, 4107603335), t.b = t.GG(t.b, t.c, t.d, t.a, t.x[t.k + 8], t.S24, 1163531501), t.a = t.GG(t.a, t.b, t.c, t.d, t.x[t.k + 13], t.S21, 2850285829), t.d = t.GG(t.d, t.a, t.b, t.c, t.x[t.k + 2], t.S22, 4243563512), t.c = t.GG(t.c, t.d, t.a, t.b, t.x[t.k + 7], t.S23, 1735328473), t.b = t.GG(t.b, t.c, t.d, t.a, t.x[t.k + 12], t.S24, 2368359562), t.a = t.HH(t.a, t.b, t.c, t.d, t.x[t.k + 5], t.S31, 4294588738), t.d = t.HH(t.d, t.a, t.b, t.c, t.x[t.k + 8], t.S32, 2272392833), t.c = t.HH(t.c, t.d, t.a, t.b, t.x[t.k + 11], t.S33, 1839030562), t.b = t.HH(t.b, t.c, t.d, t.a, t.x[t.k + 14], t.S34, 4259657740), t.a = t.HH(t.a, t.b, t.c, t.d, t.x[t.k + 1], t.S31, 2763975236), t.d = t.HH(t.d, t.a, t.b, t.c, t.x[t.k + 4], t.S32, 1272893353), t.c = t.HH(t.c, t.d, t.a, t.b, t.x[t.k + 7], t.S33, 4139469664), t.b = t.HH(t.b, t.c, t.d, t.a, t.x[t.k + 10], t.S34, 3200236656), t.a = t.HH(t.a, t.b, t.c, t.d, t.x[t.k + 13], t.S31, 681279174), t.d = t.HH(t.d, t.a, t.b, t.c, t.x[t.k], t.S32, 3936430074), t.c = t.HH(t.c, t.d, t.a, t.b, t.x[t.k + 3], t.S33, 3572445317), t.b = t.HH(t.b, t.c, t.d, t.a, t.x[t.k + 6], t.S34, 76029189), t.a = t.HH(t.a, t.b, t.c, t.d, t.x[t.k + 9], t.S31, 3654602809), t.d = t.HH(t.d, t.a, t.b, t.c, t.x[t.k + 12], t.S32, 3873151461), t.c = t.HH(t.c, t.d, t.a, t.b, t.x[t.k + 15], t.S33, 530742520), t.b = t.HH(t.b, t.c, t.d, t.a, t.x[t.k + 2], t.S34, 3299628645), t.a = t.II(t.a, t.b, t.c, t.d, t.x[t.k], t.S41, 4096336452), t.d = t.II(t.d, t.a, t.b, t.c, t.x[t.k + 7], t.S42, 1126891415), t.c = t.II(t.c, t.d, t.a, t.b, t.x[t.k + 14], t.S43, 2878612391), t.b = t.II(t.b, t.c, t.d, t.a, t.x[t.k + 5], t.S44, 4237533241), t.a = t.II(t.a, t.b, t.c, t.d, t.x[t.k + 12], t.S41, 1700485571), t.d = t.II(t.d, t.a, t.b, t.c, t.x[t.k + 3], t.S42, 2399980690), t.c = t.II(t.c, t.d, t.a, t.b, t.x[t.k + 10], t.S43, 4293915773), t.b = t.II(t.b, t.c, t.d, t.a, t.x[t.k + 1], t.S44, 2240044497), t.a = t.II(t.a, t.b, t.c, t.d, t.x[t.k + 8], t.S41, 1873313359), t.d = t.II(t.d, t.a, t.b, t.c, t.x[t.k + 15], t.S42, 4264355552), t.c = t.II(t.c, t.d, t.a, t.b, t.x[t.k + 6], t.S43, 2734768916), t.b = t.II(t.b, t.c, t.d, t.a, t.x[t.k + 13], t.S44, 1309151649), t.a = t.II(t.a, t.b, t.c, t.d, t.x[t.k + 4], t.S41, 4149444226), t.d = t.II(t.d, t.a, t.b, t.c, t.x[t.k + 11], t.S42, 3174756917), t.c = t.II(t.c, t.d, t.a, t.b, t.x[t.k + 2], t.S43, 718787259), t.b = t.II(t.b, t.c, t.d, t.a, t.x[t.k + 9], t.S44, 3951481745), t.a = t.AddUnsigned(t.a, t.AA), t.b = t.AddUnsigned(t.b, t.BB), t.c = t.AddUnsigned(t.c, t.CC), t.d = t.AddUnsigned(t.d, t.DD);
      }return (t.WordToHex(t.a) + t.WordToHex(t.b) + t.WordToHex(t.c) + t.WordToHex(t.d)).toLowerCase();
    }, t.x = Array(), t.S11 = 7, t.S12 = 12, t.S13 = 17, t.S14 = 22, t.S21 = 5, t.S22 = 9, t.S23 = 14, t.S24 = 20, t.S31 = 4, t.S32 = 11, t.S33 = 16, t.S34 = 23, t.S41 = 6, t.S42 = 10, t.S43 = 15, t.S44 = 21, t.RotateLeft = function (t, e) {
      return t << e | t >>> 32 - e;
    }, t.F = function (t, e, a) {
      return t & e | ~t & a;
    }, t.G = function (t, e, a) {
      return t & a | e & ~a;
    }, t.H = function (t, e, a) {
      return t ^ e ^ a;
    }, t.I = function (t, e, a) {
      return e ^ (t | ~a);
    }, t;
  }(),
      n = function () {
    function t() {
      this.size = 100, this.background = this.getRandomColor(), this.displayType = "none", this.letter = "?", this.defaultProtocol = null, this.displayImage = !0, this.fontSize = 49, this.fontColor = "#FFFFFF", this.props = null;
    }return t.prototype.getRandomColor = function () {
      for (var t = "0123456789ABCDEF".split(""), e = "#", a = 0; a < 6; a++) {
        e += t[Math.floor(16 * Math.random())];
      }return e;
    }, t.prototype.getLetter = function () {
      if (this.name && this.name.length) {
        var t = this.name.match(/\b(\w)/g);if (t) {
          var e = t.slice(0, 3).join("");this.letter = e.toUpperCase();
        } else this.letter = this.name[0];
      } else if (this.email && this.email.length) {
        var a = this.email.split("@")[0].match(/\b(\w)/g).slice(0, 3).join("");this.letter = a.toUpperCase();
      }
    }, t.prototype.getAvatar = function () {
      if (this.email && /^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(this.email)) {
        var t = r.init(this.email),
            e = this.defaultProtocol ? this.defaultProtocol + ":" : "";this.gravatarUrl = e + "//www.gravatar.com/avatar/" + t + "?s=" + this.size + "&d=404", this.displayImage = !0;
      } else this.displayImage = !1;
    }, t.prototype.setCssProps = function () {
      switch (this.fontSize = 39 * this.size / 100, this.props = { size: this.size + "px", lineheight: this.size + "px", background: this.background, fontSize: this.fontSize + "px" }, this.displayType) {case "rounded":
          this.props.borderradius = "5%";break;case "circle":
          this.props.borderradius = "50%";break;default:
          this.props.borderradius = "0";}
    }, t.prototype.ngOnInit = function () {
      this.setCssProps(), this.getLetter(), this.getAvatar();
    }, t.prototype.ngOnChanges = function () {
      this.getAvatar(), this.getLetter();
    }, t.decorators = [{ type: a.Component, args: [{ selector: "avatar", template: '\n    <div class="avatar"\n         *ngIf="props"\n         [style.background-color]="props.background"\n         [style.width]="props.size"\n         [style.line-height]=\'props.lineheight\'\n         [style.height]=\'props.size\'\n         [style.font-size]=\'props.fontSize\'\n         [style.border-radius]=\'props.borderradius\'>\n          <img *ngIf="displayImage"\n               [src]="gravatarUrl"\n               (error)="displayImage = false;"\n               alt="{{name}} | {{letter}}"/>\n          <span *ngIf="!displayImage" [style.color]=\'fontColor\'>{{letter}}</span>\n    </div>\n  ', styles: ["\n    .avatar{text-align:center;overflow:hidden}.avatar img{vertical-align:top}\n  "] }] }], t.ctorParameters = [], t.propDecorators = { email: [{ type: a.Input, args: ["email"] }], name: [{ type: a.Input, args: ["name"] }], size: [{ type: a.Input, args: ["size"] }], background: [{ type: a.Input, args: ["background"] }], displayType: [{ type: a.Input, args: ["displayType"] }], letter: [{ type: a.Input, args: ["letter"] }], defaultProtocol: [{ type: a.Input, args: ["defaultProtocol"] }] }, t;
  }(),
      d = function () {
    function t() {}return t.forRoot = function () {
      return { ngModule: t, providers: [] };
    }, t.decorators = [{ type: a.NgModule, args: [{ imports: [e.CommonModule], exports: [n], declarations: [n] }] }], t.ctorParameters = [], t;
  }();t.AvatarModule = d, t.AvatarComponent = n, Object.defineProperty(t, "__esModule", { value: !0 });
});
//# sourceMappingURL=ng2-avatar.umd.min.js.map